# KHM GEO Tracker Environment Configuration (Updated for Heroku Deployment)

# Database & Cache (auto-set by Heroku add-ons in production)
DATABASE_URL=postgres://username:password@host:5432/database
REDIS_URL=redis://h:password@host:port

# Legacy database settings (for local development)
POSTGRES_SERVER=localhost
POSTGRES_USER=geo_tracker
POSTGRES_PASSWORD=your_password_here
POSTGRES_DB=geo_tracker
POSTGRES_PORT=5432

# Legacy Redis settings (for local development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your_redis_password

# JWT Security (RS256 with JWKS)
JWT_SECRET_KEY=your-256-bit-secret-key-here
JWT_ALGORITHM=RS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_AUDIENCE=geo-tracker

# AI API Keys (secure storage required)
OPENAI_API_KEY=sk-your-openai-key
PERPLEXITY_API_KEY=pplx-your-key
BRAVE_API_KEY=your-brave-key
BING_API_KEY=your-bing-key

# Rate Limiting & Circuit Breaker
RATE_LIMITS_PERPLEXITY_PER_MIN=5
RATE_LIMITS_BRAVE_PER_MIN=60
RATE_LIMITS_BING_PER_MIN=60
RATE_LIMITS_OPENAI_PER_MIN=100
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=300

# CORS & Security
DASHBOARD_ORIGINS=https://site1.yourdomain.com,https://site2.yourdomain.com
ALLOWED_ORIGINS=https://site1.yourdomain.com,https://site2.yourdomain.com

# Application Settings
APP_ENV=production
DEBUG=False
LOG_LEVEL=INFO

# Google Services
GOOGLE_ANALYTICS_CREDENTIALS_PATH=/app/ga4-credentials.json
GOOGLE_SEARCH_CONSOLE_CREDENTIALS_PATH=/app/gsc-credentials.json

# Monitoring
OTEL_SERVICE_NAME=geo-tracker
OTEL_TRACES_EXPORTER=console
PROMETHEUS_METRICS_PORT=8001

# Legacy OpenAI settings (for backward compatibility)
OPENAI_MODEL=text-embedding-ada-002

# Optional monitoring (for production)
# SENTRY_DSN=your-sentry-dsn
# SLACK_WEBHOOK_URL=your-slack-webhook